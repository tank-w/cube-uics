{"remainingRequest":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/form/form-item.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/form/form-item.vue","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hcHBsZS93d3cvdnVlL2VsbWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBwcm9jZXNzRmllbGQgfSBmcm9tICcuL2ZpZWxkcy9pbmRleCc7CmltcG9ydCB7IHJlc2V0VHlwZVZhbHVlLCBjYjJQcm9taXNlV2l0aFJlc29sdmUsIGRlYm91bmNlIH0gZnJvbSAnLi4vLi4vY29tbW9uL2hlbHBlcnMvdXRpbCc7CmltcG9ydCBDdWJlVmFsaWRhdG9yIGZyb20gJy4uL3ZhbGlkYXRvci92YWxpZGF0b3IudnVlJzsKaW1wb3J0IExBWU9VVFMgZnJvbSAnLi9sYXlvdXRzJzsKaW1wb3J0IHsgZ2V0UmVzZXRWYWx1ZUJ5VHlwZSB9IGZyb20gJy4vZmllbGRzL3Jlc2V0JzsKaW1wb3J0IG1peGluIGZyb20gJy4vbWl4aW4nOwppbXBvcnQgY29tcG9uZW50cyBmcm9tICcuL2NvbXBvbmVudHMnOwpjb21wb25lbnRzLkN1YmVWYWxpZGF0b3IgPSBDdWJlVmFsaWRhdG9yOwp2YXIgQ09NUE9ORU5UX05BTUUgPSAnY3ViZS1mb3JtLWl0ZW0nOwp2YXIgRVZFTlRfRk9DVVNJTiA9ICdmb2N1c2luJzsKdmFyIEVWRU5UX0ZPQ1VTT1VUID0gJ2ZvY3Vzb3V0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6IENPTVBPTkVOVF9OQU1FLAogIG1peGluczogW21peGluXSwKICBwcm9wczogewogICAgZmllbGQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciB2YWxpZGF0b3JNb2RlbEtleSA9ICd2YWx1ZSc7CiAgICB2YXIgbW9kZWxLZXkgPSB0aGlzLmZpZWxkLm1vZGVsS2V5OwogICAgdmFyIG1vZGVsVmFsdWUgPSBtb2RlbEtleSA/IHRoaXMuZm9ybS5tb2RlbFttb2RlbEtleV0gOiBudWxsOwogICAgcmV0dXJuIHsKICAgICAgdmFsaWRhdG9yRGlzYWJsZWQ6IGZhbHNlLAogICAgICB2YWxpZGF0b3JNb2RlbEtleTogdmFsaWRhdG9yTW9kZWxLZXksCiAgICAgIG1vZGVsVmFsdWU6IG1vZGVsVmFsdWUsCiAgICAgIHZhbGlkYXRvck1vZGVsOiBfZGVmaW5lUHJvcGVydHkoe30sIHZhbGlkYXRvck1vZGVsS2V5LCBtb2RlbFZhbHVlKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWVsZFZhbHVlOiBmdW5jdGlvbiBmaWVsZFZhbHVlKCkgewogICAgICByZXR1cm4gcHJvY2Vzc0ZpZWxkKHRoaXMuZmllbGQpOwogICAgfSwKICAgIGhhc1J1bGVzOiBmdW5jdGlvbiBoYXNSdWxlcygpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZmllbGRWYWx1ZS5ydWxlcyB8fCB7fSkubGVuZ3RoID4gMDsKICAgIH0sCiAgICBpc0J0bkZpZWxkOiBmdW5jdGlvbiBpc0J0bkZpZWxkKCkgewogICAgICByZXR1cm4gdGhpcy5maWVsZFZhbHVlLnR5cGUgPT09ICdidXR0b24nOwogICAgfSwKICAgIGl0ZW1DbGFzczogZnVuY3Rpb24gaXRlbUNsYXNzKCkgewogICAgICB2YXIgcnVsZXMgPSB0aGlzLmZpZWxkVmFsdWUucnVsZXM7CiAgICAgIHJldHVybiB7CiAgICAgICAgLy8gb25seSBoYW5kbGUgcmVxdWlyZWQgcnVsZSBmb3Igbm93CiAgICAgICAgJ2N1YmUtZm9ybS1pdGVtX3JlcXVpcmVkJzogcnVsZXMgJiYgcnVsZXMucmVxdWlyZWQsCiAgICAgICAgJ2N1YmUtZm9ybS1pdGVtX2J0bic6IHRoaXMuaXNCdG5GaWVsZCwKICAgICAgICAnY3ViZS1mb3JtLWl0ZW1fdmFsaWRhdGluZyc6IHRoaXMudmFsaWRhdGluZywKICAgICAgICAnY3ViZS1mb3JtLWl0ZW1fcGVuZGluZyc6IHRoaXMucGVuZGluZywKICAgICAgICAnY3ViZS1mb3JtLWl0ZW1fdmFsaWQnOiB0aGlzLnZhbGlkLAogICAgICAgICdjdWJlLWZvcm0taXRlbV9pbnZhbGlkJzogdGhpcy5pbnZhbGlkCiAgICAgIH07CiAgICB9LAogICAgbW9kZWxWYWw6IGZ1bmN0aW9uIG1vZGVsVmFsKCkgewogICAgICByZXR1cm4gdGhpcy5mb3JtLm1vZGVsW3RoaXMuZmllbGRWYWx1ZS5tb2RlbEtleV07CiAgICB9LAogICAgY29tcG9uZW50TmFtZTogZnVuY3Rpb24gY29tcG9uZW50TmFtZSgpIHsKICAgICAgdmFyIGZpZWxkVmFsdWUgPSB0aGlzLmZpZWxkVmFsdWU7CiAgICAgIHZhciBjb21wb25lbnQgPSBmaWVsZFZhbHVlLmNvbXBvbmVudDsKCiAgICAgIGlmIChjb21wb25lbnQpIHsKICAgICAgICByZXR1cm4gY29tcG9uZW50OwogICAgICB9CgogICAgICB2YXIgdHlwZSA9IGZpZWxkVmFsdWUudHlwZTsKICAgICAgdmFyIGN1YmVUeXBlID0gImN1YmUtIi5jb25jYXQodHlwZSk7CgogICAgICBpZiAoY29tcG9uZW50c1tjdWJlVHlwZV0pIHsKICAgICAgICByZXR1cm4gY3ViZVR5cGU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0eXBlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG1vZGVsVmFsOiBmdW5jdGlvbiBtb2RlbFZhbChuZXdNb2RlbCkgewogICAgICBpZiAodGhpcy5tb2RlbFZhbHVlICE9PSBuZXdNb2RlbCkgewogICAgICAgIHRoaXMubW9kZWxWYWx1ZSA9IG5ld01vZGVsOwogICAgICB9CiAgICB9LAogICAgbW9kZWxWYWx1ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld01vZGVsKSB7CiAgICAgICAgLy8gdXBkYXRlIGZvcm0gbW9kZWwKICAgICAgICB0aGlzLmZvcm0ubW9kZWxbdGhpcy5maWVsZFZhbHVlLm1vZGVsS2V5XSA9IG5ld01vZGVsOwogICAgICAgIHRoaXMudXBkYXRlVmFsaWRhdG9yTW9kZWwoKTsKICAgICAgfSwKICAgICAgc3luYzogdHJ1ZQogICAgfSwKICAgIG9yaWdpblZhbGlkOiBmdW5jdGlvbiBvcmlnaW5WYWxpZChuZXdWYWwpIHsKICAgICAgdGhpcy5sYXN0T3JpZ2luVmFsaWQgPSBuZXdWYWw7CiAgICB9CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHRoaXMuZm9ybSA9IHRoaXMuJHBhcmVudC5mb3JtOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5mb3JtLmFkZEZpZWxkKHRoaXMpOwoKICAgIHRoaXMuZ2V0VmFsaWRhdG9yTW9kZWwgPSBmdW5jdGlvbiAobW9kZWxWYWx1ZSkgewogICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7CiAgICAgIHJldHVybiBtb2RlbFZhbHVlOwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXREZWJvdW5jZSgpOwogICAgdGhpcy5pbml0Rm9jdXNFdmVudHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREZWJvdW5jZTogZnVuY3Rpb24gaW5pdERlYm91bmNlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBkZWJvdW5jZVRpbWUgPSB0aGlzLmZpZWxkVmFsdWUuZGVib3VuY2U7CgogICAgICBpZiAoZGVib3VuY2VUaW1lID09PSB0cnVlKSB7CiAgICAgICAgZGVib3VuY2VUaW1lID0gMjAwOwogICAgICB9CgogICAgICBpZiAoIWRlYm91bmNlVGltZSAmJiBkZWJvdW5jZVRpbWUgIT09IDAgfHwgZGVib3VuY2VUaW1lIDwgMCB8fCB0aGlzLmZpZWxkVmFsdWUudHJpZ2dlciA9PT0gJ2JsdXInKSByZXR1cm47CiAgICAgIHRoaXMuZ2V0VmFsaWRhdG9yTW9kZWwgPSBkZWJvdW5jZShmdW5jdGlvbiAobW9kZWxWYWx1ZSkgewogICAgICAgIF90aGlzMi5zeW5jVmFsaWRhdG9yVmFsdWUoKTsgLy8gdGhpcy52YWxpZGF0ZSgpCgoKICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZTsKICAgICAgfSwgZGVib3VuY2VUaW1lLCBmYWxzZSwgdGhpcy52YWxpZGF0b3JNb2RlbFt0aGlzLnZhbGlkYXRvck1vZGVsS2V5XSk7CiAgICB9LAogICAgZm9jdXNJbkhhbmRsZXI6IGZ1bmN0aW9uIGZvY3VzSW5IYW5kbGVyKCkgewogICAgICB0aGlzLmZvY3VzZWQgPSB0cnVlOwogICAgfSwKICAgIGZvY3VzT3V0SGFuZGxlcjogZnVuY3Rpb24gZm9jdXNPdXRIYW5kbGVyKCkgewogICAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTsKICAgICAgdGhpcy51cGRhdGVWYWxpZGF0b3JNb2RlbCgpOyAvLyB0aGlzLnZhbGlkYXRlKCkKICAgIH0sCiAgICBpbml0Rm9jdXNFdmVudHM6IGZ1bmN0aW9uIGluaXRGb2N1c0V2ZW50cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5maWVsZFZhbHVlLnRyaWdnZXIgPT09ICdibHVyJykgewogICAgICAgIHZhciBmb3JtSXRlbSA9IHRoaXMuJHJlZnMuZm9ybUl0ZW07CiAgICAgICAgZm9ybUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9GT0NVU0lOLCB0aGlzLmZvY3VzSW5IYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgZm9ybUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9GT0NVU09VVCwgdGhpcy5mb2N1c091dEhhbmRsZXIsIGZhbHNlKTsKCiAgICAgICAgdGhpcy5nZXRWYWxpZGF0b3JNb2RlbCA9IGZ1bmN0aW9uIChtb2RlbFZhbHVlKSB7CiAgICAgICAgICBpZiAoX3RoaXMzLmZvY3VzZWQpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy52YWxpZGF0b3JNb2RlbFtfdGhpczMudmFsaWRhdG9yTW9kZWxLZXldOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLnBlbmRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMy5mb3JtLnVwZGF0ZVBlbmRpbmcoKTsKCiAgICAgICAgICAgIHJldHVybiBtb2RlbFZhbHVlOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVGb2N1c0V2ZW50czogZnVuY3Rpb24gcmVtb3ZlRm9jdXNFdmVudHMoKSB7CiAgICAgIHZhciBmb3JtSXRlbSA9IHRoaXMuJHJlZnMuZm9ybUl0ZW07CiAgICAgIGZvcm1JdGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoRVZFTlRfRk9DVVNJTiwgdGhpcy5mb2N1c0luSGFuZGxlciwgZmFsc2UpOwogICAgICBmb3JtSXRlbS5yZW1vdmVFdmVudExpc3RlbmVyKEVWRU5UX0ZPQ1VTT1VULCB0aGlzLmZvY3VzT3V0SGFuZGxlciwgZmFsc2UpOwogICAgfSwKICAgIHVwZGF0ZVZhbGlkYXRvck1vZGVsOiBmdW5jdGlvbiB1cGRhdGVWYWxpZGF0b3JNb2RlbCgpIHsKICAgICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTsKICAgICAgdGhpcy52YWxpZGF0b3JNb2RlbFt0aGlzLnZhbGlkYXRvck1vZGVsS2V5XSA9IHRoaXMuZ2V0VmFsaWRhdG9yTW9kZWwodGhpcy5tb2RlbFZhbHVlKTsKCiAgICAgIGlmICh0aGlzLnBlbmRpbmcpIHsKICAgICAgICB0aGlzLmZvcm0uc2V0UGVuZGluZyh0aGlzLnBlbmRpbmcpOwogICAgICAgIHRoaXMub3JpZ2luVmFsaWQgPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0sCiAgICBzeW5jVmFsaWRhdG9yVmFsdWU6IGZ1bmN0aW9uIHN5bmNWYWxpZGF0b3JWYWx1ZSgpIHsKICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRhdG9yTW9kZWxbdGhpcy52YWxpZGF0b3JNb2RlbEtleV0gPSB0aGlzLm1vZGVsVmFsdWU7CiAgICAgIHRoaXMuZm9ybS51cGRhdGVQZW5kaW5nKCk7CiAgICB9LAogICAgdmFsaWRhdG9yQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gdmFsaWRhdG9yQ2hhbmdlSGFuZGxlcigpIHsKICAgICAgLy8gZGlzYWJsZWQgb3IgdHJ1ZSB0byB0cnVlIG5vIHVwZGF0ZSB2YWxpZGl0eQogICAgICBpZiAodGhpcy52YWxpZGF0b3JEaXNhYmxlZCB8fCB0aGlzLm9yaWdpblZhbGlkICYmIHRoaXMubGFzdE9yaWdpblZhbGlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZVZhbGlkaXR5KCk7CiAgICB9LAogICAgdmFsaWRhdGluZ0hhbmRsZXI6IGZ1bmN0aW9uIHZhbGlkYXRpbmdIYW5kbGVyKCkgewogICAgICB0aGlzLnZhbGlkYXRpbmcgPSB0cnVlOwogICAgICB0aGlzLmZvcm0uc2V0VmFsaWRhdGluZyh0cnVlKTsKICAgIH0sCiAgICB2YWxpZGF0ZWRIYW5kbGVyOiBmdW5jdGlvbiB2YWxpZGF0ZWRIYW5kbGVyKCkgewogICAgICB0aGlzLnZhbGlkYXRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtLnVwZGF0ZVZhbGlkYXRpbmcoKTsKICAgIH0sCiAgICB1cGRhdGVWYWxpZGl0eTogZnVuY3Rpb24gdXBkYXRlVmFsaWRpdHkoKSB7CiAgICAgIHZhciB2YWxpZGF0b3IgPSB0aGlzLiRyZWZzLnZhbGlkYXRvcjsKCiAgICAgIGlmICh2YWxpZGF0b3IpIHsKICAgICAgICAvLyBzeW5jIHVwZGF0ZSB2YWxpZGF0eQogICAgICAgIHRoaXMuZm9ybS51cGRhdGVWYWxpZGl0eSh0aGlzLmZpZWxkVmFsdWUubW9kZWxLZXksIHZhbGlkYXRvci52YWxpZCwgdmFsaWRhdG9yLnJlc3VsdCwgdmFsaWRhdG9yLmRpcnR5KTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShjYikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBwcm9taXNlID0gY2IyUHJvbWlzZVdpdGhSZXNvbHZlKGNiKTsKCiAgICAgIGlmIChwcm9taXNlKSB7CiAgICAgICAgY2IgPSBwcm9taXNlLnJlc29sdmU7CiAgICAgIH0KCiAgICAgIHZhciB2YWxpZGF0b3IgPSB0aGlzLiRyZWZzLnZhbGlkYXRvcjsKCiAgICAgIGlmICh2YWxpZGF0b3IpIHsKICAgICAgICB2YWxpZGF0b3IudmFsaWRhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0LnZhbGlkYXRvckRpc2FibGVkID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpczQudXBkYXRlVmFsaWRpdHkoKTsKCiAgICAgICAgICBjYiAmJiBjYigpOwoKICAgICAgICAgIF90aGlzNC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczQudmFsaWRhdG9yRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNiICYmIGNiKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwcm9taXNlOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgZmllbGRWYWx1ZSA9IHRoaXMuZmllbGRWYWx1ZTsKCiAgICAgIGlmIChmaWVsZFZhbHVlLm1vZGVsS2V5KSB7CiAgICAgICAgdmFyIGRlZlZhbHVlID0gZ2V0UmVzZXRWYWx1ZUJ5VHlwZShmaWVsZFZhbHVlLnR5cGUpOwogICAgICAgIHRoaXMudmFsaWRhdG9yRGlzYWJsZWQgPSB0cnVlOwogICAgICAgIHJlc2V0VHlwZVZhbHVlKHRoaXMsICdtb2RlbFZhbHVlJywgZGVmVmFsdWUpOyAvLyBuZWVkIHRvIHN5bmMgdmFsaWRhdG9yIHZhbHVlIHRvbywgYmVjYXVzZSBvZiB0cmlnZ2VyIGJsdXIgb3IgZGVib3VuY2UKCiAgICAgICAgdGhpcy5zeW5jVmFsaWRhdG9yVmFsdWUoKTsKICAgICAgICB0aGlzLiRyZWZzLnZhbGlkYXRvciAmJiB0aGlzLiRyZWZzLnZhbGlkYXRvci5yZXNldCgpOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS52YWxpZGF0b3JEaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnZhbGlkYXRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7CiAgICB9LAogICAgbXNnQ2xpY2s6IGZ1bmN0aW9uIG1zZ0NsaWNrKCkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKHRoaXMuZm9ybS5sYXlvdXQgIT09IExBWU9VVFMuU1RBTkRBUkQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KCgogICAgICB0aGlzLiRjcmVhdGVUb2FzdCAmJiB0aGlzLiRjcmVhdGVUb2FzdCh7CiAgICAgICAgdHlwZTogJ3dhcm4nLAogICAgICAgIHR4dDogdGhpcy4kcmVmcy52YWxpZGF0b3IubXNnLAogICAgICAgIHRpbWU6IDEwMDAKICAgICAgfSkuc2hvdygpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMucmVtb3ZlRm9jdXNFdmVudHMoKTsKICAgIHRoaXMuZm9ybS5kZXN0cm95RmllbGQodGhpcyk7CiAgICB0aGlzLmZvcm0gPSBudWxsOwogIH0sCiAgY29tcG9uZW50czogY29tcG9uZW50cwp9Ow=="},{"version":3,"sources":["form-item.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"cube-form-item border-bottom-1px\" ref=\"formItem\" :class=\"itemClass\">\n    <template v-if=\"!isBtnField\">\n      <slot name=\"label\">\n        <div class=\"cube-form-label\" v-show=\"fieldValue.label\"><span>{{fieldValue.label}}</span></div>\n      </slot>\n      <cube-validator\n        class=\"cube-form-field\"\n        v-if=\"hasRules\"\n        ref=\"validator\"\n        v-model=\"originValid\"\n        :disabled=\"validatorDisabled\"\n        :model=\"validatorModel\"\n        :model-key=\"validatorModelKey\"\n        :rules=\"fieldValue.rules\"\n        :messages=\"fieldValue.messages\"\n        @input=\"validatorChangeHandler\"\n        @validating=\"validatingHandler\"\n        @validated=\"validatedHandler\"\n        @msg-click=\"msgClick\"\n      >\n        <slot>\n          <component :is=\"componentName\" v-model=\"modelValue\" v-bind=\"fieldValue.props\" v-on=\"fieldValue.events\"></component>\n        </slot>\n      </cube-validator>\n      <div class=\"cube-form-field\" v-else>\n        <slot>\n          <component :is=\"componentName\" v-model=\"modelValue\" v-bind=\"fieldValue.props\" v-on=\"fieldValue.events\"></component>\n        </slot>\n      </div>\n    </template>\n    <cube-button v-bind=\"fieldValue.props\" v-on=\"fieldValue.events\" v-else>{{fieldValue.label}}</cube-button>\n  </div>\n</template>\n\n<script>\n  import { processField } from './fields/index'\n  import { resetTypeValue, cb2PromiseWithResolve, debounce } from '../../common/helpers/util'\n  import CubeValidator from '../validator/validator.vue'\n  import LAYOUTS from './layouts'\n  import { getResetValueByType } from './fields/reset'\n  import mixin from './mixin'\n  import components from './components'\n  components.CubeValidator = CubeValidator\n\n  const COMPONENT_NAME = 'cube-form-item'\n  const EVENT_FOCUSIN = 'focusin'\n  const EVENT_FOCUSOUT = 'focusout'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [mixin],\n    props: {\n      field: {\n        type: Object,\n        default() {\n          /* istanbul ignore next */\n          return {}\n        }\n      }\n    },\n    data() {\n      const validatorModelKey = 'value'\n      const modelKey = this.field.modelKey\n      const modelValue = modelKey ? this.form.model[modelKey] : null\n      return {\n        validatorDisabled: false,\n        validatorModelKey,\n        modelValue: modelValue,\n        validatorModel: {\n          [validatorModelKey]: modelValue\n        }\n      }\n    },\n    computed: {\n      fieldValue() {\n        return processField(this.field)\n      },\n      hasRules() {\n        return Object.keys(this.fieldValue.rules || {}).length > 0\n      },\n      isBtnField() {\n        return this.fieldValue.type === 'button'\n      },\n      itemClass() {\n        const rules = this.fieldValue.rules\n        return {\n          // only handle required rule for now\n          'cube-form-item_required': rules && rules.required,\n          'cube-form-item_btn': this.isBtnField,\n          'cube-form-item_validating': this.validating,\n          'cube-form-item_pending': this.pending,\n          'cube-form-item_valid': this.valid,\n          'cube-form-item_invalid': this.invalid\n        }\n      },\n      modelVal() {\n        return this.form.model[this.fieldValue.modelKey]\n      },\n      componentName() {\n        const fieldValue = this.fieldValue\n        const component = fieldValue.component\n        if (component) {\n          return component\n        }\n        const type = fieldValue.type\n        const cubeType = `cube-${type}`\n        if (components[cubeType]) {\n          return cubeType\n        }\n        return type\n      }\n    },\n    watch: {\n      modelVal(newModel) {\n        if (this.modelValue !== newModel) {\n          this.modelValue = newModel\n        }\n      },\n      modelValue: {\n        handler(newModel) {\n          // update form model\n          this.form.model[this.fieldValue.modelKey] = newModel\n          this.updateValidatorModel()\n        },\n        sync: true\n      },\n      originValid(newVal) {\n        this.lastOriginValid = newVal\n      }\n    },\n    beforeCreate() {\n      this.form = this.$parent.form\n    },\n    created() {\n      this.form.addField(this)\n      this.getValidatorModel = (modelValue) => {\n        this.pending = false\n        return modelValue\n      }\n    },\n    mounted() {\n      this.initDebounce()\n      this.initFocusEvents()\n    },\n    methods: {\n      initDebounce() {\n        let debounceTime = this.fieldValue.debounce\n        if (debounceTime === true) {\n          debounceTime = 200\n        }\n        if ((!debounceTime && debounceTime !== 0) || debounceTime < 0 || this.fieldValue.trigger === 'blur') return\n        this.getValidatorModel = debounce((modelValue) => {\n          this.syncValidatorValue()\n          // this.validate()\n          return modelValue\n        }, debounceTime, false, this.validatorModel[this.validatorModelKey])\n      },\n      focusInHandler() {\n        this.focused = true\n      },\n      focusOutHandler() {\n        this.focused = false\n        this.updateValidatorModel()\n        // this.validate()\n      },\n      initFocusEvents() {\n        if (this.fieldValue.trigger === 'blur') {\n          const formItem = this.$refs.formItem\n          formItem.addEventListener(EVENT_FOCUSIN, this.focusInHandler, false)\n          formItem.addEventListener(EVENT_FOCUSOUT, this.focusOutHandler, false)\n          this.getValidatorModel = (modelValue) => {\n            if (this.focused) {\n              return this.validatorModel[this.validatorModelKey]\n            } else {\n              this.pending = false\n              this.form.updatePending()\n              return modelValue\n            }\n          }\n        }\n      },\n      removeFocusEvents() {\n        const formItem = this.$refs.formItem\n        formItem.removeEventListener(EVENT_FOCUSIN, this.focusInHandler, false)\n        formItem.removeEventListener(EVENT_FOCUSOUT, this.focusOutHandler, false)\n      },\n      updateValidatorModel() {\n        this.pending = true\n        this.validatorModel[this.validatorModelKey] = this.getValidatorModel(this.modelValue)\n        if (this.pending) {\n          this.form.setPending(this.pending)\n          this.originValid = undefined\n        }\n      },\n      syncValidatorValue() {\n        this.pending = false\n        this.validatorModel[this.validatorModelKey] = this.modelValue\n        this.form.updatePending()\n      },\n      validatorChangeHandler() {\n        // disabled or true to true no update validity\n        if (this.validatorDisabled || (this.originValid && this.lastOriginValid)) {\n          return\n        }\n        this.updateValidity()\n      },\n      validatingHandler() {\n        this.validating = true\n        this.form.setValidating(true)\n      },\n      validatedHandler() {\n        this.validating = false\n        this.form.updateValidating()\n      },\n      updateValidity() {\n        const validator = this.$refs.validator\n        if (validator) {\n          // sync update validaty\n          this.form.updateValidity(this.fieldValue.modelKey, validator.valid, validator.result, validator.dirty)\n        }\n      },\n      validate(cb) {\n        const promise = cb2PromiseWithResolve(cb)\n        if (promise) {\n          cb = promise.resolve\n        }\n        const validator = this.$refs.validator\n        if (validator) {\n          validator.validate(() => {\n            this.validatorDisabled = true\n            this.updateValidity()\n            cb && cb()\n            this.$nextTick(() => {\n              this.validatorDisabled = false\n            })\n          })\n        } else {\n          cb && cb()\n        }\n        return promise\n      },\n      reset() {\n        const fieldValue = this.fieldValue\n        if (fieldValue.modelKey) {\n          const defValue = getResetValueByType(fieldValue.type)\n          this.validatorDisabled = true\n          resetTypeValue(this, 'modelValue', defValue)\n          // need to sync validator value too, because of trigger blur or debounce\n          this.syncValidatorValue()\n          this.$refs.validator && this.$refs.validator.reset()\n          this.$nextTick(() => {\n            this.validatorDisabled = false\n          })\n        }\n        this.validating = false\n        this.pending = false\n      },\n      msgClick() {\n        /* istanbul ignore if */\n        if (this.form.layout !== LAYOUTS.STANDARD) {\n          return\n        }\n        /* istanbul ignore next */\n        this.$createToast && this.$createToast({\n          type: 'warn',\n          txt: this.$refs.validator.msg,\n          time: 1000\n        }).show()\n      }\n    },\n    beforeDestroy() {\n      this.removeFocusEvents()\n      this.form.destroyField(this)\n      this.form = null\n    },\n    components\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  @require \"../../common/stylus/mixin.styl\"\n\n  .cube-form-item\n    position: relative\n    display: flex\n    align-items: center\n    padding: 0 15px\n    &:last-child\n      &::after\n        display: none\n    .cube-checkbox-group, .cube-radio-group\n      background-color: transparent\n    .cube-checkbox, .cube-radio\n      padding-left: 0\n      padding-right: 0\n  .cube-form-item_btn\n    margin: 15px 0\n    &::after\n      display: none\n  .cube-form-label\n    display: flex\n    align-items: center\n    word-wrap: break-word\n    word-break: break-word\n  .cube-form-item_required\n    .cube-form-label\n      &::before\n        content: \"*\"\n        display: block\n        margin-top: 1px\n        margin-right: .3em\n        color: $form-label-required-color\n</style>\n"],"sourceRoot":"node_modules/cube-ui/src/components/form"}]}