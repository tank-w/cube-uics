{"remainingRequest":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js!/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/drawer/drawer-panel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/drawer/drawer-panel.vue","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHZpc2liaWxpdHlNaXhpbiBmcm9tICcuLi8uLi9jb21tb24vbWl4aW5zL3Zpc2liaWxpdHknOwppbXBvcnQgQ3ViZVNjcm9sbCBmcm9tICcuLi9zY3JvbGwvc2Nyb2xsLnZ1ZSc7CmltcG9ydCBDdWJlRHJhd2VySXRlbSBmcm9tICcuL2RyYXdlci1pdGVtLnZ1ZSc7CnZhciBDT01QT05FTlRfTkFNRSA9ICdjdWJlLWRyYXdlci1wYW5lbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiBDT01QT05FTlRfTkFNRSwKICBtaXhpbnM6IFt2aXNpYmlsaXR5TWl4aW5dLAogIHByb3BzOiB7CiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogLTEKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzZWxlY3RlZEluZGV4OiBmdW5jdGlvbiBzZWxlY3RlZEluZGV4KCkgewogICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IHRoaXMuJHBhcmVudC5zZWxlY3RlZFt0aGlzLmluZGV4XTsKICAgICAgcmV0dXJuIHNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZCA/IC0xIDogc2VsZWN0ZWRJbmRleDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICB0aGlzLnNjcm9sbFRvVG9wKCk7CiAgICB9LAogICAgaXNWaXNpYmxlOiBmdW5jdGlvbiBpc1Zpc2libGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMucmVmcmVzaCgpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRwYXJlbnQuYWRkUGFuZWwodGhpcyk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kcGFyZW50LnJlbW92ZVBhbmVsKHRoaXMpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpOwogICAgfSwKICAgIHNjcm9sbFRvVG9wOiBmdW5jdGlvbiBzY3JvbGxUb1RvcCgpIHsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsICYmIHRoaXMuJHJlZnMuc2Nyb2xsLnNjcm9sbC5zY3JvbGxUbygwLCAwLCAwKTsKICAgIH0sCiAgICBpdGVtQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBpdGVtQ2xpY2tIYW5kbGVyKGl0ZW0sIGluZGV4KSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggIT09IGluZGV4KSB7CiAgICAgICAgdGhpcy4kcGFyZW50LmNoYW5nZUhhbmRsZXIodGhpcy5pbmRleCwgaXRlbSwgaW5kZXgpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDdWJlU2Nyb2xsOiBDdWJlU2Nyb2xsLAogICAgQ3ViZURyYXdlckl0ZW06IEN1YmVEcmF3ZXJJdGVtCiAgfQp9Ow=="},{"version":3,"sources":["drawer-panel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA,OAAA,eAAA,MAAA,gCAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,cAAA,MAAA,mBAAA;AAEA,IAAA,cAAA,GAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,MAAA,EAAA,CAAA,eAAA,CAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA;AACA,eAAA,EAAA;AACA;AALA,KADA;AAQA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,CAAA;AAFA;AARA,GAHA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,aAAA,GAAA,KAAA,OAAA,CAAA,QAAA,CAAA,KAAA,KAAA,CAAA;AACA,aAAA,aAAA,KAAA,SAAA,GAAA,CAAA,CAAA,GAAA,aAAA;AACA;AAJA,GAhBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,WAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA;AACA,OAFA;AAGA;AARA,GAtBA;AAgCA,EAAA,OAhCA,qBAgCA;AACA,SAAA,OAAA,CAAA,QAAA,CAAA,IAAA;AACA,GAlCA;AAmCA,EAAA,aAnCA,2BAmCA;AACA,SAAA,OAAA,CAAA,WAAA,CAAA,IAAA;AACA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,MAAA,IAAA,KAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA,KANA;AAOA,IAAA,gBAPA,4BAOA,IAPA,EAOA,KAPA,EAOA;AACA,UAAA,KAAA,aAAA,KAAA,KAAA,EAAA;AACA,aAAA,OAAA,CAAA,aAAA,CAAA,KAAA,KAAA,EAAA,IAAA,EAAA,KAAA;AACA;AACA;AAXA,GAtCA;AAmDA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,cAAA,EAAA;AAFA;AAnDA,CAAA","sourcesContent":["<template>\n  <transition name=\"cube-drawer-move\">\n    <div class=\"cube-drawer-panel\" v-show=\"isVisible\">\n      <div class=\"cube-drawer-scroll-wrapper\">\n        <cube-scroll ref=\"scroll\" :data=\"data\">\n          <ul class=\"cube-drawer-list\">\n            <slot>\n              <cube-drawer-item v-for=\"(item, i) in data\" :item=\"item\" :key=\"i\" :index=\"i\" />\n            </slot>\n          </ul>\n        </cube-scroll>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import visibilityMixin from '../../common/mixins/visibility'\n  import CubeScroll from '../scroll/scroll.vue'\n  import CubeDrawerItem from './drawer-item.vue'\n\n  const COMPONENT_NAME = 'cube-drawer-panel'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [visibilityMixin],\n    props: {\n      data: {\n        type: Array,\n        default() {\n          /* istanbul ignore next */\n          return []\n        }\n      },\n      index: {\n        type: Number,\n        default: -1\n      }\n    },\n    computed: {\n      selectedIndex() {\n        const selectedIndex = this.$parent.selected[this.index]\n        return selectedIndex === undefined ? -1 : selectedIndex\n      }\n    },\n    watch: {\n      data() {\n        this.scrollToTop()\n      },\n      isVisible() {\n        this.$nextTick(() => {\n          this.refresh()\n        })\n      }\n    },\n    mounted() {\n      this.$parent.addPanel(this)\n    },\n    beforeDestroy() {\n      this.$parent.removePanel(this)\n    },\n    methods: {\n      refresh() {\n        this.$refs.scroll.refresh()\n      },\n      scrollToTop() {\n        this.$refs.scroll.scroll && this.$refs.scroll.scroll.scrollTo(0, 0, 0)\n      },\n      itemClickHandler(item, index) {\n        if (this.selectedIndex !== index) {\n          this.$parent.changeHandler(this.index, item, index)\n        }\n      }\n    },\n    components: {\n      CubeScroll,\n      CubeDrawerItem\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  @require \"../../common/stylus/mixin.styl\"\n\n  .cube-drawer-panel\n    position: relative\n    z-index: 1\n    flex: 1\n    width: 170px\n    overflow: hidden\n    background-color: $drawer-panel-bgc\n    box-shadow: 0 1px 2px rgba(0, 0, 0, .2)\n    + .cube-drawer-panel\n      margin-left: -67px\n    &:first-child\n      box-shadow: none\n  .cube-drawer-scroll-wrapper // fix flex item height: 100% bug in android\n    position: absolute\n    top: 0\n    left: 0\n    width: 100%\n    height: 100%\n\n  .cube-drawer-move-enter, .cube-drawer-move-leave-to\n    transform: translate(67px, 0)\n  .cube-drawer-move-enter-active, .cube-drawer-move-leave-active\n    transition: transform .3s ease-in-out\n</style>\n"],"sourceRoot":"node_modules/cube-ui/src/components/drawer"}]}