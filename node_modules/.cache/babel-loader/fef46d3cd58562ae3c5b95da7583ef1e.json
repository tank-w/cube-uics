{"remainingRequest":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/select/select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/select/select.vue","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2FwcGxlL3d3dy92dWUvZWxtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBmaW5kSW5kZXggfSBmcm9tICcuLi8uLi9jb21tb24vaGVscGVycy91dGlsJzsKaW1wb3J0IGxvY2FsZU1peGluIGZyb20gJy4uLy4uL2NvbW1vbi9taXhpbnMvbG9jYWxlJzsKdmFyIENPTVBPTkVOVF9OQU1FID0gJ2N1YmUtc2VsZWN0JzsKdmFyIEVWRU5UX0NIQU5HRSA9ICdjaGFuZ2UnOwp2YXIgRVZFTlRfSU5QVVQgPSAnaW5wdXQnOyAvLyBvbmx5IHVzZWQgZm9yIHYtbW9kZWwKCnZhciBFVkVOVF9QSUNLRVJfU0hPVyA9ICdwaWNrZXItc2hvdyc7CnZhciBFVkVOVF9QSUNLRVJfSElERSA9ICdwaWNrZXItaGlkZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiBDT01QT05FTlRfTkFNRSwKICBtaXhpbnM6IFtsb2NhbGVNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZTogZmFsc2UKICAgIH07CiAgfSwKICBwcm9wczogewogICAgb3B0aW9uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogbnVsbCwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBhdXRvUG9wOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgY2FuY2VsVHh0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBjb25maXJtVHh0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBhZGFwdE9wdGlvbnM6IGZ1bmN0aW9uIGFkYXB0T3B0aW9ucygpIHsKICAgICAgcmV0dXJuIFt0aGlzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKF90eXBlb2YoaXRlbSkgIT09ICdvYmplY3QnKSB7CiAgICAgICAgICBpdGVtID0gewogICAgICAgICAgICB2YWx1ZTogaXRlbSwKICAgICAgICAgICAgdGV4dDogaXRlbQogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KV07CiAgICB9LAogICAgdmFsdWVJbmRleDogZnVuY3Rpb24gdmFsdWVJbmRleCgpIHsKICAgICAgdmFyIHZhbCA9IHRoaXMudmFsdWU7CiAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleCh0aGlzLmFkYXB0T3B0aW9uc1swXSwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSA9PT0gdmFsOwogICAgICB9KTsKICAgICAgdGhpcy5waWNrZXIgJiYgdGhpcy5waWNrZXIuc2V0RGF0YSh0aGlzLmFkYXB0T3B0aW9ucywgaW5kZXggIT09IC0xID8gW2luZGV4XSA6IFswXSk7CiAgICAgIHJldHVybiBpbmRleDsKICAgIH0sCiAgICBzZWxlY3RlZEluZGV4OiBmdW5jdGlvbiBzZWxlY3RlZEluZGV4KCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZUluZGV4ICE9PSAtMSA/IFt0aGlzLnZhbHVlSW5kZXhdIDogWzBdOwogICAgfSwKICAgIHNlbGVjdGVkVGV4dDogZnVuY3Rpb24gc2VsZWN0ZWRUZXh0KCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZUluZGV4ICE9PSAtMSA/IHRoaXMuYWRhcHRPcHRpb25zWzBdW3RoaXMudmFsdWVJbmRleF0udGV4dCA6ICcnOwogICAgfSwKICAgIF9wbGFjZWhvbGRlcjogZnVuY3Rpb24gX3BsYWNlaG9sZGVyKCkgewogICAgICByZXR1cm4gdGhpcy5wbGFjZWhvbGRlciB8fCB0aGlzLiR0KCdzZWxlY3RUZXh0Jyk7CiAgICB9LAogICAgX3RpdGxlOiBmdW5jdGlvbiBfdGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnRpdGxlIHx8IHRoaXMuJHQoJ3NlbGVjdFRleHQnKTsKICAgIH0sCiAgICBfY2FuY2VsVHh0OiBmdW5jdGlvbiBfY2FuY2VsVHh0KCkgewogICAgICByZXR1cm4gdGhpcy5jYW5jZWxUeHQgfHwgdGhpcy4kdCgnY2FuY2VsJyk7CiAgICB9LAogICAgX2NvbmZpcm1UeHQ6IGZ1bmN0aW9uIF9jb25maXJtVHh0KCkgewogICAgICByZXR1cm4gdGhpcy5jb25maXJtVHh0IHx8IHRoaXMuJHQoJ29rJyk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5waWNrZXIgPSB0aGlzLiRjcmVhdGVQaWNrZXIoewogICAgICAkcHJvcHM6IHsKICAgICAgICB0aXRsZTogJ190aXRsZScsCiAgICAgICAgZGF0YTogJ2FkYXB0T3B0aW9ucycsCiAgICAgICAgc2VsZWN0ZWRJbmRleDogJ3NlbGVjdGVkSW5kZXgnLAogICAgICAgIGNhbmNlbFR4dDogJ19jYW5jZWxUeHQnLAogICAgICAgIGNvbmZpcm1UeHQ6ICdfY29uZmlybVR4dCcKICAgICAgfSwKICAgICAgJGV2ZW50czogewogICAgICAgIHNlbGVjdDogJ3NlbGVjdEhhbmRsZXInLAogICAgICAgIGNhbmNlbDogdGhpcy5oaWRlZAogICAgICB9CiAgICB9KTsKICAgIHRoaXMuYXV0b1BvcCAmJiB0aGlzLnNob3dQaWNrZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dQaWNrZXI6IGZ1bmN0aW9uIHNob3dQaWNrZXIoKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnBpY2tlci5zaG93KCk7CiAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTsKICAgICAgdGhpcy4kZW1pdChFVkVOVF9QSUNLRVJfU0hPVyk7CiAgICB9LAogICAgaGlkZWQ6IGZ1bmN0aW9uIGhpZGVkKCkgewogICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KEVWRU5UX1BJQ0tFUl9ISURFKTsKICAgIH0sCiAgICBzZWxlY3RIYW5kbGVyOiBmdW5jdGlvbiBzZWxlY3RIYW5kbGVyKHNlbGVjdGVkVmFsLCBzZWxlY3RlZEluZGV4LCBzZWxlY3RlZFRleHQpIHsKICAgICAgdGhpcy5oaWRlZCgpOwoKICAgICAgaWYgKHNlbGVjdGVkVmFsWzBdICE9PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdChFVkVOVF9JTlBVVCwgc2VsZWN0ZWRWYWxbMF0pOwogICAgICAgIHRoaXMuJGVtaXQoRVZFTlRfQ0hBTkdFLCBzZWxlY3RlZFZhbFswXSwgc2VsZWN0ZWRJbmRleFswXSwgc2VsZWN0ZWRUZXh0WzBdKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["select.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"cube-select\" :class=\"{ 'cube-select_active': active, 'cube-select_disabled': disabled }\" @click=\"showPicker\">\n    <span v-if=\"selectedText\" class=\"cube-select-text\">{{ selectedText }}</span>\n    <span v-else class=\"cube-select-placeholder\">{{ _placeholder }}</span>\n    <i class=\"cube-select-icon\"></i>\n  </div>\n</template>\n\n<script>\n  import { findIndex } from '../../common/helpers/util'\n  import localeMixin from '../../common/mixins/locale'\n\n  const COMPONENT_NAME = 'cube-select'\n\n  const EVENT_CHANGE = 'change'\n  const EVENT_INPUT = 'input' // only used for v-model\n  const EVENT_PICKER_SHOW = 'picker-show'\n  const EVENT_PICKER_HIDE = 'picker-hide'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [ localeMixin ],\n    data() {\n      return {\n        active: false\n      }\n    },\n    props: {\n      options: {\n        type: Array,\n        default() {\n          /* istanbul ignore next */\n          return []\n        }\n      },\n      value: null,\n      placeholder: {\n        type: String,\n        default: ''\n      },\n      autoPop: {\n        type: Boolean,\n        default: false\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      title: {\n        type: String,\n        default: ''\n      },\n      cancelTxt: {\n        type: String,\n        default: ''\n      },\n      confirmTxt: {\n        type: String,\n        default: ''\n      }\n    },\n    computed: {\n      adaptOptions() {\n        return [this.options.map(item => {\n          if (typeof item !== 'object') {\n            item = {\n              value: item,\n              text: item\n            }\n          }\n          return item\n        })]\n      },\n      valueIndex() {\n        const val = this.value\n        const index = findIndex(this.adaptOptions[0], (item) => {\n          return item.value === val\n        })\n        this.picker && this.picker.setData(this.adaptOptions, index !== -1 ? [index] : [0])\n\n        return index\n      },\n      selectedIndex() {\n        return this.valueIndex !== -1 ? [this.valueIndex] : [0]\n      },\n      selectedText() {\n        return this.valueIndex !== -1 ? this.adaptOptions[0][this.valueIndex].text : ''\n      },\n      _placeholder () {\n        return this.placeholder || this.$t('selectText')\n      },\n      _title () {\n        return this.title || this.$t('selectText')\n      },\n      _cancelTxt () {\n        return this.cancelTxt || this.$t('cancel')\n      },\n      _confirmTxt () {\n        return this.confirmTxt || this.$t('ok')\n      }\n    },\n    created() {\n      this.picker = this.$createPicker({\n        $props: {\n          title: '_title',\n          data: 'adaptOptions',\n          selectedIndex: 'selectedIndex',\n          cancelTxt: '_cancelTxt',\n          confirmTxt: '_confirmTxt'\n        },\n        $events: {\n          select: 'selectHandler',\n          cancel: this.hided\n        }\n      })\n      this.autoPop && this.showPicker()\n    },\n    methods: {\n      showPicker() {\n        if (this.disabled) {\n          return\n        }\n        this.picker.show()\n        this.active = true\n        this.$emit(EVENT_PICKER_SHOW)\n      },\n      hided() {\n        this.active = false\n        this.$emit(EVENT_PICKER_HIDE)\n      },\n      selectHandler(selectedVal, selectedIndex, selectedText) {\n        this.hided()\n        if (selectedVal[0] !== this.value) {\n          this.$emit(EVENT_INPUT, selectedVal[0])\n          this.$emit(EVENT_CHANGE, selectedVal[0], selectedIndex[0], selectedText[0])\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  @require \"../../common/stylus/mixin.styl\"\n\n  .cube-select\n    position: relative\n    box-sizing: border-box\n    padding: 10px 20px 10px 10px\n    border-radius: 2px\n    font-size: $fontsize-medium\n    line-height: 1.429\n    color: $select-color\n    background-color: $select-bgc\n    border-1px($select-border-color, 2px)\n    > span\n      display: inline-block\n  .cube-select_active\n    border-1px($select-border-active-color)\n    .cube-select-icon\n      transform: translate(0, -50%) rotate(180deg)\n  .cube-select_disabled\n    color: $select-disabled-color\n    background-color: $select-disabled-bgc\n    cursor: not-allowed\n  .cube-select-placeholder\n    color: $select-placeholder-color\n  .cube-select-icon\n    position: absolute\n    right: 8px\n    top: 50%\n    transform: translate(0, -50%)\n    border-style: solid\n    border-color: $select-icon-color transparent transparent transparent\n    border-width: 4px 4px 0 4px\n    transition: transform .3s ease-in-out\n</style>\n"],"sourceRoot":"node_modules/cube-ui/src/components/select"}]}