{"remainingRequest":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js??ref--30-1!/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/common/locale/index.js","dependencies":[{"path":"/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/common/locale/index.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2FwcGxlL3d3dy92dWUvZWxtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBkZWZhdWx0TWVzc2FnZXMgZnJvbSAnLi4vLi4vbG9jYWxlL2xhbmcvemgtQ04nOwppbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vaGVscGVycy9kZWJ1Zyc7CmltcG9ydCB7IGlzVW5kZWYsIGlzTnVtYmVyIH0gZnJvbSAnLi4vaGVscGVycy91dGlsJzsKaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gJy4uL2xhbmcvZGF0ZSc7CnZhciBwcm90bzsKdmFyIERFRkFVTFRfTEFORyA9ICd6aC1DTic7CnZhciBsb2NhbGUgPSB7CiAgbmFtZTogJ2xvY2FsZScsCiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICAgIGlmIChsb2NhbGUuaW5zdGFsbGVkKSByZXR1cm47CiAgICBwcm90byA9IFZ1ZS5wcm90b3R5cGU7CiAgICBWdWUudXRpbC5kZWZpbmVSZWFjdGl2ZShwcm90bywgJyRjdWJlTGFuZycsIERFRkFVTFRfTEFORyk7CiAgICBwcm90b1snJGN1YmVNZXNzYWdlcyddID0gX2RlZmluZVByb3BlcnR5KHt9LCBERUZBVUxUX0xBTkcsIGRlZmF1bHRNZXNzYWdlcyk7CiAgICBsb2NhbGUuaW5zdGFsbGVkID0gdHJ1ZTsKICB9LAogIHVzZTogZnVuY3Rpb24gdXNlKGxhbmcsIG1lc3NhZ2VzKSB7CiAgICBwcm90b1snJGN1YmVMYW5nJ10gPSBsYW5nOwogICAgdmFyIGN1YmVNZXNzYWdlcyA9IHByb3RvWyckY3ViZU1lc3NhZ2VzJ107IC8vIGlmIG1lc3NhZ2VzIGhhdmUgbmV2ZXIgYmVlbiBzdG9yZWQgaW4gdnVlLnByb3RvdHllCgogICAgaWYgKCEobGFuZyBpbiBjdWJlTWVzc2FnZXMpKSB7CiAgICAgIGN1YmVNZXNzYWdlc1tbbGFuZ11dID0gbWVzc2FnZXM7CiAgICB9CiAgfSwKICBoZWxwZXJzOiB7CiAgICB0b0xvY2FsZURhdGVTdHJpbmc6IGZ1bmN0aW9uIHRvTG9jYWxlRGF0ZVN0cmluZyhjb25maWcsIGZvcm1hdFJ1bGVzKSB7CiAgICAgIC8qKgogICAgICAgKiBTYWZhcmkgZG9uJ3Qgc3VwcG9ydCBmb3JtYXRSdWxlcyBsaWtlCiAgICAgICAqICd5eXl5LU1NLWRkIGhoOm1tOnNzJywgc28gdHJhbnNmZXIgaXQgdG8gJ3l5eXkvTU0vZGQgaGg6bW06c3MnCiAgICAgICAqLwogICAgICB2YXIgY29tcGF0aWJsZUNvbmZpZyA9IGlzTnVtYmVyKGNvbmZpZykgPyBjb25maWcgOiBjb25maWcucmVwbGFjZSgvLS9nLCAnLycpOwogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGNvbXBhdGlibGVDb25maWcpOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KCiAgICAgIGlmIChpc1VuZGVmKGZvcm1hdFJ1bGVzKSkgcmV0dXJuIGRhdGUudG9EYXRlU3RyaW5nKCk7CiAgICAgIHJldHVybiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdFJ1bGVzKTsKICAgIH0KICB9LAogIGFkZEhlbHBlcjogZnVuY3Rpb24gYWRkSGVscGVyKGZuTmFtZSwgZm4pIHsKICAgIC8vIGNoZWNrIGV4aXN0ZWQgaGVscGVyIGZuCgogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAoZm5OYW1lIGluIGxvY2FsZS5oZWxwZXJzKSB7CiAgICAgIHdhcm4oIiIuY29uY2F0KGZuTmFtZSwgIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgb24gaGVscGVycyBmdW5jdGlvbiwgcGxlYXNlIGNoYW5nZSBhbm90aGVyIG5hbWUiKSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBsb2NhbGUuaGVscGVyc1tmbk5hbWVdID0gZm47CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBsb2NhbGU7"},{"version":3,"sources":["/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/common/locale/index.js"],"names":["defaultMessages","warn","isUndef","isNumber","formatDate","proto","DEFAULT_LANG","locale","name","install","Vue","installed","prototype","util","defineReactive","use","lang","messages","cubeMessages","helpers","toLocaleDateString","config","formatRules","compatibleConfig","replace","date","Date","toDateString","addHelper","fnName","fn"],"mappings":";;;AAAA,OAAOA,eAAP,MAA4B,yBAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,iBAAlC;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,IAAIC,KAAJ;AAEA,IAAMC,YAAY,GAAG,OAArB;AAEA,IAAMC,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAE,QADO;AAEbC,EAAAA,OAFa,mBAEJC,GAFI,EAEC;AACZ,QAAIH,MAAM,CAACI,SAAX,EAAsB;AACtBN,IAAAA,KAAK,GAAGK,GAAG,CAACE,SAAZ;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAASC,cAAT,CAAwBT,KAAxB,EAA+B,WAA/B,EAA4CC,YAA5C;AACAD,IAAAA,KAAK,CAAC,eAAD,CAAL,uBAA4BC,YAA5B,EAA2CN,eAA3C;AACAO,IAAAA,MAAM,CAACI,SAAP,GAAmB,IAAnB;AACD,GARY;AASbI,EAAAA,GATa,eASRC,IATQ,EASFC,QATE,EASQ;AACnBZ,IAAAA,KAAK,CAAC,WAAD,CAAL,GAAqBW,IAArB;AACA,QAAME,YAAY,GAAGb,KAAK,CAAC,eAAD,CAA1B,CAFmB,CAGnB;;AACA,QAAI,EAAEW,IAAI,IAAIE,YAAV,CAAJ,EAA6B;AAC3BA,MAAAA,YAAY,CAAC,CAACF,IAAD,CAAD,CAAZ,GAAuBC,QAAvB;AACD;AACF,GAhBY;AAiBbE,EAAAA,OAAO,EAAE;AACPC,IAAAA,kBADO,8BACaC,MADb,EACqBC,WADrB,EACkC;AACvC;;;;AAIA,UAAMC,gBAAgB,GAAGpB,QAAQ,CAACkB,MAAD,CAAR,GAAmBA,MAAnB,GAA4BA,MAAM,CAACG,OAAP,CAAe,IAAf,EAAqB,GAArB,CAArD;AACA,UAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASH,gBAAT,CAAb;AACA;;AACA,UAAIrB,OAAO,CAACoB,WAAD,CAAX,EAA0B,OAAOG,IAAI,CAACE,YAAL,EAAP;AAC1B,aAAOvB,UAAU,CAACqB,IAAD,EAAOH,WAAP,CAAjB;AACD;AAXM,GAjBI;AA8BbM,EAAAA,SA9Ba,qBA8BFC,MA9BE,EA8BMC,EA9BN,EA8BU;AACrB;;AACA;AACA,QAAID,MAAM,IAAItB,MAAM,CAACY,OAArB,EAA8B;AAC5BlB,MAAAA,IAAI,WAAI4B,MAAJ,kFAAJ;AACA;AACD;;AACDtB,IAAAA,MAAM,CAACY,OAAP,CAAeU,MAAf,IAAyBC,EAAzB;AACD;AAtCY,CAAf;AAyCA,eAAevB,MAAf","sourcesContent":["import defaultMessages from '../../locale/lang/zh-CN'\nimport { warn } from '../helpers/debug'\nimport { isUndef, isNumber } from '../helpers/util'\nimport { formatDate } from '../lang/date'\n\nlet proto\n\nconst DEFAULT_LANG = 'zh-CN'\n\nconst locale = {\n  name: 'locale',\n  install (Vue) {\n    if (locale.installed) return\n    proto = Vue.prototype\n    Vue.util.defineReactive(proto, '$cubeLang', DEFAULT_LANG)\n    proto['$cubeMessages'] = { [DEFAULT_LANG]: defaultMessages }\n    locale.installed = true\n  },\n  use (lang, messages) {\n    proto['$cubeLang'] = lang\n    const cubeMessages = proto['$cubeMessages']\n    // if messages have never been stored in vue.prototye\n    if (!(lang in cubeMessages)) {\n      cubeMessages[[lang]] = messages\n    }\n  },\n  helpers: {\n    toLocaleDateString (config, formatRules) {\n      /**\n       * Safari don't support formatRules like\n       * 'yyyy-MM-dd hh:mm:ss', so transfer it to 'yyyy/MM/dd hh:mm:ss'\n       */\n      const compatibleConfig = isNumber(config) ? config : config.replace(/-/g, '/')\n      const date = new Date(compatibleConfig)\n      /* istanbul ignore if */\n      if (isUndef(formatRules)) return date.toDateString()\n      return formatDate(date, formatRules)\n    }\n  },\n  addHelper (fnName, fn) {\n    // check existed helper fn\n    /* istanbul ignore if */\n    if (fnName in locale.helpers) {\n      warn(`${fnName} has already been registered on helpers function, please change another name`)\n      return\n    }\n    locale.helpers[fnName] = fn\n  }\n}\n\nexport default locale\n"]}]}