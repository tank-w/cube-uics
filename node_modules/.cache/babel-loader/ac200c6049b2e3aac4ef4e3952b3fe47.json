{"remainingRequest":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js!/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/swipe/swipe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/components/swipe/swipe.vue","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ3ViZVN3aXBlSXRlbSBmcm9tICcuL3N3aXBlLWl0ZW0udnVlJzsKdmFyIENPTVBPTkVOVF9OQU1FID0gJ2N1YmUtc3dpcGUnOwp2YXIgRVZFTlRfSVRFTV9DTElDSyA9ICdpdGVtLWNsaWNrJzsKdmFyIEVWRU5UX0JUTl9DTElDSyA9ICdidG4tY2xpY2snOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogQ09NUE9ORU5UX05BTUUsCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN3aXBlOiB0aGlzCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGRhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGF1dG9TaHJpbms6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTE7CiAgICB0aGlzLml0ZW1zID0gW107CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRJdGVtOiBmdW5jdGlvbiBhZGRJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pOwogICAgfSwKICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oaXRlbSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgIGlmIChpbmRleCA8PSB0aGlzLmFjdGl2ZUluZGV4KSB7CiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCAtPSAxOwogICAgICB9CiAgICB9LAogICAgb25JdGVtQ2xpY2s6IGZ1bmN0aW9uIG9uSXRlbUNsaWNrKGl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfSVRFTV9DTElDSywgaXRlbSwgaW5kZXgpOwogICAgfSwKICAgIG9uQnRuQ2xpY2s6IGZ1bmN0aW9uIG9uQnRuQ2xpY2soYnRuLCBpbmRleCkgewogICAgICB2YXIgaXRlbSA9IHRoaXMuZGF0YVtpbmRleF07CiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfQlROX0NMSUNLLCBidG4sIGluZGV4LCBpdGVtKTsKICAgIH0sCiAgICBvbkl0ZW1BY3RpdmU6IGZ1bmN0aW9uIG9uSXRlbUFjdGl2ZShpbmRleCkgewogICAgICBpZiAoaW5kZXggPT09IHRoaXMuYWN0aXZlSW5kZXgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ICE9PSAtMSkgewogICAgICAgIHZhciBhY3RpdmVJdGVtID0gdGhpcy5pdGVtc1t0aGlzLmFjdGl2ZUluZGV4XTsKICAgICAgICBhY3RpdmVJdGVtLnNocmluaygpOwogICAgICB9CgogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDdWJlU3dpcGVJdGVtOiBDdWJlU3dpcGVJdGVtCiAgfQp9Ow=="},{"version":3,"sources":["swipe.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAiBA,OAAA,aAAA,MAAA,kBAAA;AAEA,IAAA,cAAA,GAAA,YAAA;AACA,IAAA,gBAAA,GAAA,YAAA;AACA,IAAA,eAAA,GAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,OAFA,qBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAPA,GAPA;AAmBA,EAAA,OAnBA,qBAmBA;AACA,SAAA,WAAA,GAAA,CAAA,CAAA;AACA,SAAA,KAAA,GAAA,EAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,IADA,EACA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,UAJA,sBAIA,IAJA,EAIA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;;AACA,UAAA,KAAA,IAAA,KAAA,WAAA,EAAA;AACA,aAAA,WAAA,IAAA,CAAA;AACA;AACA,KAVA;AAWA,IAAA,WAXA,uBAWA,IAXA,EAWA,KAXA,EAWA;AACA,WAAA,KAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,KAAA;AACA,KAbA;AAcA,IAAA,UAdA,sBAcA,GAdA,EAcA,KAdA,EAcA;AACA,UAAA,IAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,GAAA,EAAA,KAAA,EAAA,IAAA;AACA,KAjBA;AAkBA,IAAA,YAlBA,wBAkBA,KAlBA,EAkBA;AACA,UAAA,KAAA,KAAA,KAAA,WAAA,EAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,KAAA,CAAA,CAAA,EAAA;AACA,YAAA,UAAA,GAAA,KAAA,KAAA,CAAA,KAAA,WAAA,CAAA;AACA,QAAA,UAAA,CAAA,MAAA;AACA;;AACA,WAAA,WAAA,GAAA,KAAA;AACA;AA3BA,GAvBA;AAoDA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA;AApDA,CAAA","sourcesContent":["<template>\n  <div class=\"cube-swipe\">\n    <slot>\n      <transition-group name=\"cube-swipe\" tag=\"ul\">\n        <li v-for=\"(item, index) in data\" :key=\"item.item.value\">\n          <cube-swipe-item\n            :btns=\"item.btns\"\n            :item=\"item.item\"\n            :index=\"index\"\n            :auto-shrink=\"autoShrink\" />\n        </li>\n      </transition-group>\n    </slot>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import CubeSwipeItem from './swipe-item.vue'\n\n  const COMPONENT_NAME = 'cube-swipe'\n  const EVENT_ITEM_CLICK = 'item-click'\n  const EVENT_BTN_CLICK = 'btn-click'\n\n  export default {\n    name: COMPONENT_NAME,\n    provide() {\n      return {\n        swipe: this\n      }\n    },\n    props: {\n      data: {\n        type: Array,\n        default() {\n          return []\n        }\n      },\n      autoShrink: {\n        type: Boolean,\n        default: false\n      }\n    },\n    created() {\n      this.activeIndex = -1\n      this.items = []\n    },\n    methods: {\n      addItem(item) {\n        this.items.push(item)\n      },\n      removeItem(item) {\n        const index = this.items.indexOf(item)\n        this.items.splice(index, 1)\n        if (index <= this.activeIndex) {\n          this.activeIndex -= 1\n        }\n      },\n      onItemClick(item, index) {\n        this.$emit(EVENT_ITEM_CLICK, item, index)\n      },\n      onBtnClick(btn, index) {\n        const item = this.data[index]\n        this.$emit(EVENT_BTN_CLICK, btn, index, item)\n      },\n      onItemActive(index) {\n        if (index === this.activeIndex) {\n          return\n        }\n        if (this.activeIndex !== -1) {\n          const activeItem = this.items[this.activeIndex]\n          activeItem.shrink()\n        }\n        this.activeIndex = index\n      }\n    },\n    components: {\n      CubeSwipeItem\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .cube-swipe\n    overflow: hidden\n\n  .cube-swipe-enter-active, .cube-swipe-leave-active\n    transition: all 0.3s\n    .cube-swipe-item-inner\n      transition: all 0.3s\n\n  .cube-swipe-enter, .cube-swipe-leave-to\n    .cube-swipe-item-inner\n      height: 0\n</style>\n"],"sourceRoot":"node_modules/cube-ui/src/components/swipe"}]}