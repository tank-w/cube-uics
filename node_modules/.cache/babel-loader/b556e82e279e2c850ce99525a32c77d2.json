{"remainingRequest":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js??ref--30-1!/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/common/lang/date.js","dependencies":[{"path":"/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/common/lang/date.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/www/vue/elmapp/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwp2YXIgREFZX1RJTUVTVEFNUCA9IDYwICogNjAgKiAyNCAqIDEwMDA7CnZhciBIT1VSX1RJTUVTVEFNUCA9IDYwICogNjAgKiAxMDAwOwp2YXIgTUlOVVRFX1RJTUVTVEFNUCA9IDYwICogMTAwMDsKCmZ1bmN0aW9uIGZvcm1hdFR5cGUodHlwZSwgZm9ybWF0LCB2YWx1ZSwgcmVnRXhwQXR0cmlidXRlcykgewogIHZhciByZWdFeHBNYXAgPSB7CiAgICB5ZWFyOiAnKFkrKScsCiAgICBtb250aDogJyhNKyknLAogICAgZGF0ZTogJyhEKyknLAogICAgaG91cjogJyhoKyknLAogICAgbWludXRlOiAnKG0rKScsCiAgICBzZWNvbmQ6ICcocyspJywKICAgIHF1YXJ0ZXI6ICcocSspJywKICAgIG1pbGxpc2Vjb25kOiAnKFMpJwogIH07CgogIGlmIChuZXcgUmVnRXhwKHJlZ0V4cE1hcFt0eXBlXSwgcmVnRXhwQXR0cmlidXRlcykudGVzdChmb3JtYXQpKSB7CiAgICB2YXIgcmVwbGFjZVN0ciA9IHR5cGUgPT09ICd5ZWFyJyA/IHZhbHVlLnRvU3RyaW5nKCkuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSA6IFJlZ0V4cC4kMS5sZW5ndGggPT09IDEgPyB2YWx1ZSA6IHBhZCh2YWx1ZSk7CiAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsIHJlcGxhY2VTdHIpOwogIH0KCiAgcmV0dXJuIGZvcm1hdDsKfQoKZnVuY3Rpb24gcGFkKHZhbHVlKSB7CiAgcmV0dXJuICgnMDAnICsgdmFsdWUpLnN1YnN0cigoJycgKyB2YWx1ZSkubGVuZ3RoKTsKfQoKZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQpIHsKICB2YXIgbWFwID0gewogICAgeWVhcjogewogICAgICB2YWx1ZTogZGF0ZS5nZXRGdWxsWWVhcigpLAogICAgICByZWdFeHBBdHRyaWJ1dGVzOiAnaScKICAgIH0sCiAgICBtb250aDogewogICAgICB2YWx1ZTogZGF0ZS5nZXRNb250aCgpICsgMQogICAgfSwKICAgIGRhdGU6IHsKICAgICAgdmFsdWU6IGRhdGUuZ2V0RGF0ZSgpLAogICAgICByZWdFeHBBdHRyaWJ1dGVzOiAnaScKICAgIH0sCiAgICBob3VyOiB7CiAgICAgIHZhbHVlOiBkYXRlLmdldEhvdXJzKCksCiAgICAgIHJlZ0V4cEF0dHJpYnV0ZXM6ICdpJwogICAgfSwKICAgIG1pbnV0ZTogewogICAgICB2YWx1ZTogZGF0ZS5nZXRNaW51dGVzKCkKICAgIH0sCiAgICBzZWNvbmQ6IHsKICAgICAgdmFsdWU6IGRhdGUuZ2V0U2Vjb25kcygpCiAgICB9LAogICAgcXVhcnRlcjogewogICAgICB2YWx1ZTogTWF0aC5mbG9vcigoZGF0ZS5nZXRNb250aCgpICsgMykgLyAzKSwKICAgICAgcmVnRXhwQXR0cmlidXRlczogJ2knCiAgICB9LAogICAgbWlsbGlzZWNvbmQ6IHsKICAgICAgdmFsdWU6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkKICAgIH0KICB9OwoKICBmb3IgKHZhciBrZXkgaW4gbWFwKSB7CiAgICBmb3JtYXQgPSBmb3JtYXRUeXBlKGtleSwgZm9ybWF0LCBtYXBba2V5XS52YWx1ZSwgbWFwW2tleV0ucmVnRXhwQXR0cmlidXRlcyk7CiAgfQoKICByZXR1cm4gZm9ybWF0Owp9CgpmdW5jdGlvbiBnZXRaZXJvU3RhbXAoZGF0ZSkgewogIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOwogIHZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7CiAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpOwogIHJldHVybiArbmV3IERhdGUoeWVhciArICcvJyArIG1vbnRoICsgJy8nICsgZGF5ICsgJyAwMDowMDowMCcpOwp9CgpmdW5jdGlvbiBnZXREYXlEaWZmKGRhdGUxLCBkYXRlMikgewogIHJldHVybiBNYXRoLmZsb29yKChnZXRaZXJvU3RhbXAoZGF0ZTEpIC0gZ2V0WmVyb1N0YW1wKGRhdGUyKSkgLyBEQVlfVElNRVNUQU1QKTsKfQoKZnVuY3Rpb24gZ2V0Tm93KCkgewogIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLm5vdyA/IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSArIHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0IDogK25ldyBEYXRlKCk7Cn0KCmZ1bmN0aW9uIGNvbXB1dGVOYXR1cmVNYXhEYXkobW9udGgsIHllYXIpIHsKICB2YXIgbmF0dXJlTWF4RGF5ID0gMzA7CgogIGlmIChbMSwgMywgNSwgNywgOCwgMTAsIDEyXS5pbmRleE9mKG1vbnRoKSA+IC0xKSB7CiAgICBuYXR1cmVNYXhEYXkgPSAzMTsKICB9IGVsc2UgewogICAgaWYgKG1vbnRoID09PSAyKSB7CiAgICAgIG5hdHVyZU1heERheSA9ICF5ZWFyIHx8ICEoeWVhciAlIDQwMCkgfHwgISh5ZWFyICUgNCkgJiYgeWVhciAlIDEwMCA/IDI5IDogMjg7CiAgICB9CiAgfQoKICByZXR1cm4gbmF0dXJlTWF4RGF5Owp9CgpleHBvcnQgeyBEQVlfVElNRVNUQU1QLCBIT1VSX1RJTUVTVEFNUCwgTUlOVVRFX1RJTUVTVEFNUCwgcGFkLCBmb3JtYXRUeXBlLCBmb3JtYXREYXRlLCBnZXRaZXJvU3RhbXAsIGdldERheURpZmYsIGdldE5vdywgY29tcHV0ZU5hdHVyZU1heERheSB9Ow=="},{"version":3,"sources":["/Users/apple/www/vue/elmapp/node_modules/cube-ui/src/common/lang/date.js"],"names":["DAY_TIMESTAMP","HOUR_TIMESTAMP","MINUTE_TIMESTAMP","formatType","type","format","value","regExpAttributes","regExpMap","year","month","date","hour","minute","second","quarter","millisecond","RegExp","test","replaceStr","toString","substr","$1","length","pad","replace","formatDate","map","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","key","getZeroStamp","day","Date","getDayDiff","date1","date2","getNow","window","performance","now","timing","navigationStart","computeNatureMaxDay","natureMaxDay","indexOf"],"mappings":"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","sourcesContent":["const DAY_TIMESTAMP = 60 * 60 * 24 * 1000\nconst HOUR_TIMESTAMP = 60 * 60 * 1000\nconst MINUTE_TIMESTAMP = 60 * 1000\n\nfunction formatType(type, format, value, regExpAttributes) {\n  const regExpMap = {\n    year: '(Y+)',\n    month: '(M+)',\n    date: '(D+)',\n    hour: '(h+)',\n    minute: '(m+)',\n    second: '(s+)',\n    quarter: '(q+)',\n    millisecond: '(S)'\n  }\n\n  if (new RegExp(regExpMap[type], regExpAttributes).test(format)) {\n    const replaceStr = type === 'year'\n      ? value.toString().substr(4 - RegExp.$1.length)\n      : (RegExp.$1.length === 1)\n        ? value\n        : pad(value)\n    format = format.replace(RegExp.$1, replaceStr)\n  }\n\n  return format\n}\n\nfunction pad(value) {\n  return ('00' + value).substr(('' + value).length)\n}\n\nfunction formatDate(date, format) {\n  const map = {\n    year: {\n      value: date.getFullYear(),\n      regExpAttributes: 'i'\n    },\n    month: {\n      value: date.getMonth() + 1\n    },\n    date: {\n      value: date.getDate(),\n      regExpAttributes: 'i'\n    },\n    hour: {\n      value: date.getHours(),\n      regExpAttributes: 'i'\n    },\n    minute: {\n      value: date.getMinutes()\n    },\n    second: {\n      value: date.getSeconds()\n    },\n    quarter: {\n      value: Math.floor((date.getMonth() + 3) / 3),\n      regExpAttributes: 'i'\n    },\n    millisecond: {\n      value: date.getMilliseconds()\n    }\n  }\n\n  for (const key in map) {\n    format = formatType(key, format, map[key].value, map[key].regExpAttributes)\n  }\n\n  return format\n}\n\nfunction getZeroStamp(date) {\n  const year = date.getFullYear()\n  const month = date.getMonth() + 1\n  const day = date.getDate()\n  return +new Date(year + '/' + month + '/' + day + ' 00:00:00')\n}\n\nfunction getDayDiff(date1, date2) {\n  return Math.floor((getZeroStamp(date1) - getZeroStamp(date2)) / DAY_TIMESTAMP)\n}\n\nfunction getNow() {\n  return window.performance && window.performance.now ? (window.performance.now() + window.performance.timing.navigationStart) : +new Date()\n}\n\nfunction computeNatureMaxDay(month, year) {\n  let natureMaxDay = 30\n  if ([1, 3, 5, 7, 8, 10, 12].indexOf(month) > -1) {\n    natureMaxDay = 31\n  } else {\n    if (month === 2) {\n      natureMaxDay = !year || (!(year % 400) || (!(year % 4) && year % 100)) ? 29 : 28\n    }\n  }\n\n  return natureMaxDay\n}\n\nexport {\n  DAY_TIMESTAMP,\n  HOUR_TIMESTAMP,\n  MINUTE_TIMESTAMP,\n  pad,\n  formatType,\n  formatDate,\n  getZeroStamp,\n  getDayDiff,\n  getNow,\n  computeNatureMaxDay\n}\n"]}]}